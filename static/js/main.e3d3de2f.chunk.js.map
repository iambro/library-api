{"version":3,"sources":["components/IMG/nocover.png","components/Search.js","components/Result.js","components/List.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","Search","props","react_default","a","createElement","className","onSubmit","click","type","placeholder","value","search","onChange","change","Result","src","cover","require","alt","concat","title","description","substring","List","results","books","map","book","components_Result","key","id","empty","App","state","updateStart","max","handleChange","e","_this","setState","target","handleClick","preventDefault","getData","handleUpdate","bookStore","didUpdate","fetch","then","response","json","data","hasOwnProperty","items","push","volumeInfo","imageLinks","thumbnail","handleScroll","document","getElementById","getBoundingClientRect","bottom","window","innerHeight","removeEventListener","addEventListener","this","Fragment","components_Search","components_List","Component","ReactDOM","render","components_App"],"mappings":"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","file":"static/js/main.e3d3de2f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/nocover.97ce854c.png\";","import React from \"react\";\r\n\r\nconst Search = props => {\r\n  return (\r\n    <header className=\"header\">\r\n      <form className=\"form\" onSubmit={props.click}>\r\n        <input\r\n          className=\"form__input\"\r\n          type=\"text\"\r\n          placeholder=\"Podaj tytuł...\"\r\n          value={props.search}\r\n          onChange={props.change}\r\n        />\r\n        <button className=\"form__button\" type=\"submit\">\r\n          Szukaj\r\n        </button>\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst Result = props => {\r\n  return (\r\n    <li className=\"list__result\">\r\n      <img\r\n        className=\"list__cover\"\r\n        src={\r\n          props.cover !== \"empty\" ? props.cover : require(\"./IMG/nocover.png\")\r\n        }\r\n        alt={`Okładka ${props.title}`}\r\n      />\r\n      <section className=\"list_textBox\">\r\n        <label className=\"list__label\">Tytuł:</label>\r\n        <p className=\"list__title\">{props.title}</p>\r\n      </section>\r\n      <section className=\"list_textBox\">\r\n        <label className=\"list__label\">Opis:</label>\r\n        <p className=\"list__description\">\r\n          {props.description !== \"empty\" ? props.description.substring(0, 100)+'...' : \"Brak\"}\r\n        </p>\r\n      </section>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Result;\r\n","import React from \"react\";\r\nimport Result from \"./Result\";\r\n\r\nconst List = props => {\r\n  const results = props.books.map(book => (\r\n    <Result\r\n      key={book.id}\r\n      cover={book.cover}\r\n      title={book.title}\r\n      description={book.description}\r\n    />\r\n  ));\r\n  return (\r\n    <main className=\"list-wrapper\">\r\n      {props.empty ? (\r\n        <div className=\"empty\">Brak wyników</div>\r\n      ) : (\r\n        <ul className=\"list\">{results}</ul>\r\n      )}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import React, { Component } from \"react\";\r\nimport Search from \"./Search\";\r\nimport List from \"./List\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    books: [],\r\n    search: \"\",\r\n    empty: false,\r\n    updateStart: 12,\r\n    max: 12\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      search: e.target.value\r\n    });\r\n  };\r\n\r\n  handleClick = e => {\r\n    e.preventDefault();\r\n    let bookStore = [];\r\n    let id = 0;\r\n    const didUpdate = false;\r\n    this.getData(bookStore, id, didUpdate);\r\n    this.setState({\r\n      updateStart: 12\r\n    })\r\n  };\r\n\r\n  handleUpdate = () => {\r\n    let bookStore = this.state.books;\r\n    let id = this.state.updateStart;\r\n    const didUpdate = true;\r\n    this.getData(bookStore, id, didUpdate);\r\n    this.setState({\r\n      updateStart: id + 12\r\n    });\r\n  };\r\n\r\n  getData = (bookStore, id, didUpdate) => {\r\n    fetch(\r\n      `https://www.googleapis.com/books/v1/volumes?q=intitle:${\r\n        this.state.search\r\n      }&startIndex=${id}&maxResults=${this.state.max}`\r\n    )\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        if (data.hasOwnProperty(\"items\")) {\r\n          data.items.map(book =>\r\n            bookStore.push({\r\n              id: id++,\r\n              cover: book.volumeInfo.hasOwnProperty(\"imageLinks\")\r\n                ? book.volumeInfo.imageLinks.thumbnail\r\n                : \"empty\",\r\n              title: book.volumeInfo.title,\r\n              description: book.volumeInfo.hasOwnProperty(\"description\")\r\n                ? book.volumeInfo.description\r\n                : \"empty\"\r\n            })\r\n          );\r\n          this.setState({\r\n            books: bookStore,\r\n            empty: false\r\n          });\r\n        } else if (didUpdate === true) {\r\n          return null;\r\n        } else {\r\n          this.setState({\r\n            empty: true\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  handleScroll = () => {\r\n    const wrappedElement = document.getElementById(\"root\");\r\n    if (wrappedElement.getBoundingClientRect().bottom <= window.innerHeight) {\r\n      this.handleUpdate();\r\n      document.removeEventListener(\"scroll\", this.handleScroll);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    document.addEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Search\r\n          click={this.handleClick}\r\n          change={this.handleChange}\r\n          search={this.state.search}\r\n        />\r\n        <List books={this.state.books} empty={this.state.empty} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./components/CSS/index.css\";\r\nimport \"./components/CSS/queries.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}