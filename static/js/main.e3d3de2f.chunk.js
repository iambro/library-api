(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,,function(e,t,a){e.exports=a.p+"static/media/nocover.97ce854c.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(2),o=a.n(l),s=a(3),r=a(4),i=a(6),m=a(5),u=a(7),p=function(e){return c.a.createElement("header",{className:"header"},c.a.createElement("form",{className:"form",onSubmit:e.click},c.a.createElement("input",{className:"form__input",type:"text",placeholder:"Podaj tytu\u0142...",value:e.search,onChange:e.change}),c.a.createElement("button",{className:"form__button",type:"submit"},"Szukaj")))},d=function(e){return c.a.createElement("li",{className:"list__result"},c.a.createElement("img",{className:"list__cover",src:"empty"!==e.cover?e.cover:a(14),alt:"Ok\u0142adka ".concat(e.title)}),c.a.createElement("section",{className:"list_textBox"},c.a.createElement("label",{className:"list__label"},"Tytu\u0142:"),c.a.createElement("p",{className:"list__title"},e.title)),c.a.createElement("section",{className:"list_textBox"},c.a.createElement("label",{className:"list__label"},"Opis:"),c.a.createElement("p",{className:"list__description"},"empty"!==e.description?e.description.substring(0,100)+"...":"Brak")))},h=function(e){var t=e.books.map(function(e){return c.a.createElement(d,{key:e.id,cover:e.cover,title:e.title,description:e.description})});return c.a.createElement("main",{className:"list-wrapper"},e.empty?c.a.createElement("div",{className:"empty"},"Brak wynik\xf3w"):c.a.createElement("ul",{className:"list"},t))},f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={books:[],search:"",empty:!1,updateStart:12,max:12},a.handleChange=function(e){a.setState({search:e.target.value})},a.handleClick=function(e){e.preventDefault();a.getData([],0,!1),a.setState({updateStart:12})},a.handleUpdate=function(){var e=a.state.books,t=a.state.updateStart;a.getData(e,t,!0),a.setState({updateStart:t+12})},a.getData=function(e,t,n){fetch("https://www.googleapis.com/books/v1/volumes?q=intitle:".concat(a.state.search,"&startIndex=").concat(t,"&maxResults=").concat(a.state.max)).then(function(e){return e.json()}).then(function(c){if(c.hasOwnProperty("items"))c.items.map(function(a){return e.push({id:t++,cover:a.volumeInfo.hasOwnProperty("imageLinks")?a.volumeInfo.imageLinks.thumbnail:"empty",title:a.volumeInfo.title,description:a.volumeInfo.hasOwnProperty("description")?a.volumeInfo.description:"empty"})}),a.setState({books:e,empty:!1});else{if(!0===n)return null;a.setState({empty:!0})}})},a.handleScroll=function(){document.getElementById("root").getBoundingClientRect().bottom<=window.innerHeight&&(a.handleUpdate(),document.removeEventListener("scroll",a.handleScroll))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(){document.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(p,{click:this.handleClick,change:this.handleChange,search:this.state.search}),c.a.createElement(h,{books:this.state.books,empty:this.state.empty}))}}]),t}(n.Component);a(15),a(16);o.a.render(c.a.createElement(f,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.e3d3de2f.chunk.js.map